<!DOCTYPE html>
<html class="no-js" lang="en">


<!-- Mirrored from doc.akka.io/docs/akka-http/current/release-notes/10.1.x.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 01 Aug 2019 10:12:39 GMT -->
<head>
<title>10.1.x Release Notes &bull; Akka HTTP</title>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<meta name="description" content="Akka Http: Modern, fast, asynchronous, streaming-first HTTP server and client."/>
<link rel="canonical" href="10.1.x.html"/>
<script type="text/javascript" src="../lib/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../lib/foundation/dist/js/foundation.min.js"></script>
<link rel="stylesheet" type="text/css" href="../lib/normalize.css/normalize.css"/>
<link rel="stylesheet" type="text/css" href="../lib/foundation/dist/css/foundation.min.css"/>
<link rel="stylesheet" type="text/css" href="../../../../../cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css" />
<link rel="stylesheet" type="text/css" href="../css/icons.css"/>
<link rel="stylesheet" type="text/css" href="../css/page.css"/>
<link rel="shortcut icon" href="../images/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="../images/apple-touch-icon.png"/>
<link rel="icon" type="image/png" sizes="32x32" href="../images/favicon-32x32.png"/>
<link rel="icon" type="image/png" sizes="16x16" href="../images/favicon-16x16.png"/>
<link rel="manifest" href="../images/manifest.json"/>
<meta name="msapplication-TileImage" content="../images/mstile-150x150.png"/>
<meta name="msapplication-TileColor" content="#15a9ce"/>
<meta name="theme-color" content="#15a9ce"/>
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>
<!-- OneTrust Cookies Consent Notice (Production Standard, akka.io, en-GB) start -->
<script src="../../../../../optanon.blob.core.windows.net/consent/159bb13d-6748-4399-806e-ac28db879785.js" type="text/javascript" charset="UTF-8"></script>
<script type="text/javascript">
function OptanonWrapper() { }
</script>
<!-- OneTrust Cookies Consent Notice (Production Standard, akka.io, en-GB) end -->
<!--Google Analytics-->
<script type="text/plain" class="optanon-category-2">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-21117439-1']);
_gaq.push(['_setDomainName', 'akka.io']);
_gaq.push(['_trackPageview']);
(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})()
</script>
<script type="text/plain" class="optanon-category-2">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','../../../../../www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-23127719-1', 'lightbend.com', {'allowLinker': true, 'name': 'tsTracker'});
ga('tsTracker.require', 'linker');
ga('tsTracker.linker:autoLink', ['lightbend.com','playframework.com','scala-lang.org','scaladays.org','spray.io','akka.io','scala-sbt.org','scala-ide.org']);
ga('tsTracker.send', 'pageview');
</script>
<!--Marketo-->
<script type="text/plain" class="optanon-category-3">
(function() {
var didInit = false;
function initMunchkin() {
if(didInit === false) {
didInit = true;
Munchkin.init('558-NCX-702', { 'asyncOnly': true, 'disableClickDelay': true });
}
}
var s = document.createElement('script');
s.type = 'text/javascript';
s.async = true;
s.src = '../../../../../munchkin.marketo.net/munchkin.js';
s.onreadystatechange = function() {
if (this.readyState == 'complete' || this.readyState == 'loaded') {
initMunchkin();
}
};
s.onload = initMunchkin;
document.getElementsByTagName('head')[0].appendChild(s);
})();
</script>
</head>

<body id="underlay" data-toggler="nav-open">

<header class="site-header hide-for-large">
<div class="sticky-header clearfix">
<a href="https://akka.io/"><img class="logo" src="../images/akka-logo-reverse.svg"/></a>

<button class="menu-icon float-right" type="button" data-toggle="underlay overlay"></button>
</div>
<div id="overlay" class="overlay-nav" data-toggler="nav-open">
<header class="nav-header">
<div class="nav-header-title">
<h1><a href="../index-2.html">Akka HTTP</a></h1>
</div>
<div class="nav-header-version">
Version 10.1.9
</div>
<div class="nav-header-groups">
<select class="supergroup" name="Language"><option class="group" value="group-scala">Scala</option><option class="group" value="group-java">Java</option></select>
</div>
<div id="overlay-search-container" class="nav-header-search">
<input id="overlay-search" type="search" class="search" placeholder="Search"/>
</div>
</header>
<nav class="nav-toc">
<ul>
  <li><a href="../security.html" class="page">! Security Announcements !</a></li>
  <li><a href="index.html" class="page">0. Release Notes</a>
  <ul>
    <li><a href="10.1.x.html#10-1-x-release-notes" class="active page">10.1.x Release Notes</a>
    <ul>
      <li><a href="10.1.x.html#10-1-9" class="header">10.1.9</a></li>
      <li><a href="10.1.x.html#10-1-8" class="header">10.1.8</a></li>
      <li><a href="10.1.x.html#10-1-7" class="header">10.1.7</a></li>
      <li><a href="10.1.x.html#10-1-6" class="header">10.1.6</a></li>
      <li><a href="10.1.x.html#10-1-5" class="header">10.1.5</a></li>
      <li><a href="10.1.x.html#10-1-4" class="header">10.1.4</a></li>
      <li><a href="10.1.x.html#10-1-3" class="header">10.1.3</a></li>
      <li><a href="10.1.x.html#10-1-2" class="header">10.1.2</a></li>
      <li><a href="10.1.x.html#10-1-1" class="header">10.1.1</a></li>
      <li><a href="10.1.x.html#10-1-0" class="header">10.1.0</a></li>
      <li><a href="10.1.x.html#10-1-0-rc2" class="header">10.1.0-RC2</a></li>
      <li><a href="10.1.x.html#10-1-0-rc1" class="header">10.1.0-RC1</a></li>
    </ul></li>
    <li><a href="10.0.x.html" class="page">10.0.x Release Notes</a></li>
  </ul></li>
  <li><a href="../introduction.html" class="page">1. Introduction</a></li>
  <li><a href="../usage.html" class="page">2. Usage</a></li>
  <li><a href="../common/index.html" class="page">3. Data Types &amp; Abstractions</a></li>
  <li><a href="../server-side/index.html" class="page">4. Server API</a></li>
  <li><a href="../client-side/index.html" class="page">5. Client API</a></li>
  <li><a href="../extensions.html" class="page">6. Extensions</a></li>
  <li><a href="../technologies.html" class="page">7. Supported Technologies</a></li>
  <li><a href="../tipsandtricks.html" class="page">8. Tips And Tricks</a></li>
  <li><a href="../contributing.html" class="page">9. Contributing</a></li>
  <li><a href="../reference.html" class="page">10. Reference</a></li>
</ul>
</nav>
</div>
</header>

<aside class="show-for-large">
<header class="nav-header fixed-sidebar-header">
<div class="nav-header-title">
<h1><a href="../index-2.html">Akka HTTP</a></h1>
</div>
<div class="nav-header-version">
Version 10.1.9
</div>
<div class="nav-header-groups">
<select class="supergroup" name="Language"><option class="group" value="group-scala">Scala</option><option class="group" value="group-java">Java</option></select>
</div>
<div class="nav-header-search">
<input id="search" type="search" class="search" placeholder="Search"/>
</div>
</header>
<nav class="site-nav fixed-sidebar-contents">
<div class="nav-toc">
<ul>
  <li><a href="../security.html" class="page">! Security Announcements !</a></li>
  <li><a href="index.html" class="page">0. Release Notes</a>
  <ul>
    <li><a href="10.1.x.html#10-1-x-release-notes" class="active page">10.1.x Release Notes</a>
    <ul>
      <li><a href="10.1.x.html#10-1-9" class="header">10.1.9</a></li>
      <li><a href="10.1.x.html#10-1-8" class="header">10.1.8</a></li>
      <li><a href="10.1.x.html#10-1-7" class="header">10.1.7</a></li>
      <li><a href="10.1.x.html#10-1-6" class="header">10.1.6</a></li>
      <li><a href="10.1.x.html#10-1-5" class="header">10.1.5</a></li>
      <li><a href="10.1.x.html#10-1-4" class="header">10.1.4</a></li>
      <li><a href="10.1.x.html#10-1-3" class="header">10.1.3</a></li>
      <li><a href="10.1.x.html#10-1-2" class="header">10.1.2</a></li>
      <li><a href="10.1.x.html#10-1-1" class="header">10.1.1</a></li>
      <li><a href="10.1.x.html#10-1-0" class="header">10.1.0</a></li>
      <li><a href="10.1.x.html#10-1-0-rc2" class="header">10.1.0-RC2</a></li>
      <li><a href="10.1.x.html#10-1-0-rc1" class="header">10.1.0-RC1</a></li>
    </ul></li>
    <li><a href="10.0.x.html" class="page">10.0.x Release Notes</a></li>
  </ul></li>
  <li><a href="../introduction.html" class="page">1. Introduction</a></li>
  <li><a href="../usage.html" class="page">2. Usage</a></li>
  <li><a href="../common/index.html" class="page">3. Data Types &amp; Abstractions</a></li>
  <li><a href="../server-side/index.html" class="page">4. Server API</a></li>
  <li><a href="../client-side/index.html" class="page">5. Client API</a></li>
  <li><a href="../extensions.html" class="page">6. Extensions</a></li>
  <li><a href="../technologies.html" class="page">7. Supported Technologies</a></li>
  <li><a href="../tipsandtricks.html" class="page">8. Tips And Tricks</a></li>
  <li><a href="../contributing.html" class="page">9. Contributing</a></li>
  <li><a href="../reference.html" class="page">10. Reference</a></li>
</ul>
</div>
</nav>
<footer class="nav-footer fixed-sidebar-footer">
<a href="https://akka.io/"><img class="logo" src="../images/akka-logo-reverse.svg"/></a>

</footer>
</aside>

<main class="fixed-shift-for-large expanded row">
<section class="site-content small-12 column">

<article class="page-content row">
<div class="small-12 large-9 column" id="docs">
<h1><a href="#10-1-x-release-notes" name="10-1-x-release-notes" class="anchor"><span class="anchor-link"></span></a>10.1.x Release Notes</h1>
<h2><a href="#10-1-9" name="10-1-9" class="anchor"><span class="anchor-link"></span></a>10.1.9</h2>
<p>10.1.9 is the tenth release in the 10.1.x series of Akka HTTP. See the <a href="https://akka.io/blog/news/2019/07/17/akka-http-10.1.9-released.html">announcement</a> and the full list of changes below.</p>
<h3><a href="#changes-since-10-1-8" name="changes-since-10-1-8" class="anchor"><span class="anchor-link"></span></a>Changes since 10.1.8</h3>
<p>For a full overview you can also see the <a href="https://github.com/akka/akka-http/milestone/10.1.9?closed=1">10.1.9 milestone</a>:</p>
<h5><a href="#akka-http-core" name="akka-http-core" class="anchor"><span class="anchor-link"></span></a>akka-http-core</h5>
<ul>
  <li>Don&rsquo;t use a https connection pool for http connections (javadsl) <a href="https://github.com/akka/akka-http/pull/2562">#2562</a></li>
</ul>
<h5><a href="#akka-http" name="akka-http" class="anchor"><span class="anchor-link"></span></a>akka-http</h5>
<ul>
  <li>Add String-to-UUID unmarshaller to the predefined Scala unmarshallers <a href="https://github.com/akka/akka-http/pull/2505">#2505</a></li>
  <li>Improve validation in uuid unmarshaller <a href="https://github.com/akka/akka-http/pull/2569/">#2569</a></li>
  <li>Fix missing header rejection for custom headers <a href="https://github.com/akka/akka-http/issues/2487">#2487</a></li>
  <li>Fix case of nested FormField if first formField usage is with single parameter <a href="https://github.com/akka/akka-http/pull/2543">#2524</a></li>
  <li>Support &lsquo;streaming back&rsquo; an uploaded file <a href="https://github.com/akka/akka-http/pull/2582">#2582</a></li>
</ul>
<h5><a href="#akka-http2-support" name="akka-http2-support" class="anchor"><span class="anchor-link"></span></a>akka-http2-support</h5>
<ul>
  <li>Allow HTTP/1.1 and HTTP/2 on the same port without TLS or Upgrade headers <a href="https://github.com/akka/akka-http/pull/2543">#2543</a></li>
  <li>Retired the UseHttp2 setting: when enabled, HTTP/2 is now always available <a href="https://github.com/akka/akka-http/pull/2557">#2557</a></li>
  <li>Add akka.http.server.http2.log-frames for verbose frame logging for debugging purposes <a href="https://github.com/akka/akka-http/pull/2561">#2561</a></li>
  <li>Fix reception of unexpected mid-stream HEADERS frame with endStream=false <a href="https://github.com/akka/akka-http/pull/2557">#2557</a></li>
  <li>Close HTTP/2 streams earlier <a href="https://github.com/akka/akka-http/issues/2551">#2551</a></li>
</ul>
<h5><a href="#akka-http-caching" name="akka-http-caching" class="anchor"><span class="anchor-link"></span></a>akka-http-caching</h5>
<ul>
  <li>Upgrade caffeine to 2.7 which removes need for dummyLoader <a href="https://github.com/akka/akka-http/issues/2443">#2443</a></li>
  <li>Add Cache.put method to refresh cached value without removing it first <a href="https://github.com/akka/akka-http/issues/2385">#2385</a></li>
</ul>
<h2><a href="#10-1-8" name="10-1-8" class="anchor"><span class="anchor-link"></span></a>10.1.8</h2>
<p>10.1.8 is the ninth release in the 10.1.x series of Akka HTTP. See the <a href="https://akka.io/blog/news/2019/03/25/akka-http-10.1.8-released.html">announcement</a> and the full list of changes below.</p>
<h3><a href="#changes-since-10-1-7" name="changes-since-10-1-7" class="anchor"><span class="anchor-link"></span></a>Changes since 10.1.7</h3>
<p>For a full overview you can also see the <a href="https://github.com/akka/akka-http/milestone/47?closed=1">10.1.8 milestone</a>:</p>
<h4><a href="#improvements" name="improvements" class="anchor"><span class="anchor-link"></span></a>Improvements</h4>
<h5><a href="#akka-http-core" name="akka-http-core" class="anchor"><span class="anchor-link"></span></a>akka-http-core</h5>
<ul>
  <li>Do not include error details in HTTP response <a href="https://github.com/akka/akka-http/pull/2314">#2314</a></li>
  <li>More reliable detection of HTTPS =&gt; HTTP connection attempts <a href="https://github.com/akka/akka-http/pull/1886">#1886</a></li>
  <li>use JDK9+ ALPN support if available <a href="https://github.com/akka/akka-http/issues/2280">#2280</a></li>
  <li>Allow overriding of User-Agent header with custom RawHeader <a href="https://github.com/akka/akka-http/issues/2277">#2277</a></li>
  <li>Allow overriding of Host header with custom RawHeader <a href="https://github.com/akka/akka-http/issues/2436">#2436</a></li>
  <li>Support for scala 2.13.0-M5 <a href="https://github.com/akka/akka-http/pull/2298">#2298</a></li>
  <li>Optimize HttpMessageParser.push code path <a href="https://github.com/akka/akka-http/pull/2450">#2450</a></li>
  <li>Optimize RequestTimeout support for the common case <a href="https://github.com/akka/akka-http/pull/2452">#2452</a></li>
  <li>Use static scanning when searching for well-known ContentType for rendering <a href="https://github.com/akka/akka-http/pull/2453">#2453</a></li>
  <li>Add new option to close connections after a period of time <a href="https://github.com/akka/akka-http/pull/2016">#2016</a></li>
</ul>
<h5><a href="#akka-http" name="akka-http" class="anchor"><span class="anchor-link"></span></a>akka-http</h5>
<ul>
  <li>Change GZip and Deflate compression level and makes it configurable <a href="https://github.com/akka/akka-http/issues/2318">#2318</a></li>
  <li>Provide configuration settings for client SSE limits <a href="https://github.com/akka/akka-http/pull/2193">#2193</a></li>
  <li>Oversized requests should return 413 and not 500 <a href="https://github.com/akka/akka-http/issues/358">#358</a></li>
  <li>Don&rsquo;t repeat query of target URI in error response <a href="https://github.com/akka/akka-http/issues/2397">#2397</a></li>
</ul>
<h5><a href="#docs" name="docs" class="anchor"><span class="anchor-link"></span></a>docs</h5>
<ul>
  <li>Improve <code>onSuccess</code> docs to explain Tupler magic <a href="https://github.com/akka/akka-http/issues/993">#993</a></li>
  <li>Add links endorsing support projects <a href="https://github.com/akka/akka-http/issues/1968">#1968</a></li>
</ul>
<h5><a href="#akka-http2-support" name="akka-http2-support" class="anchor"><span class="anchor-link"></span></a>akka-http2-support</h5>
<ul>
  <li>Allow (but ignore) RST and WindowUpdate frames on closed HTTP/2 streams <a href="https://github.com/akka/akka-http/pulls/2457">#2457</a></li>
  <li>Clean up ALPN when the stream is stopped <a href="https://github.com/akka/akka-http/pulls/2471">#2471</a></li>
</ul>
<h4><a href="#bug-fixes" name="bug-fixes" class="anchor"><span class="anchor-link"></span></a>Bug fixes</h4>
<ul>
  <li>Response shouldn&rsquo;t override connection header when connection is force-closed <a href="https://github.com/akka/akka-http/issues/2403">#2403</a></li>
  <li>Disable to append charset=UTF-8 by default in <code>Content-Type: application/x-www-form-urlencoded</code> FormData <a href="https://github.com/akka/akka-http/issues/91">#91</a></li>
  <li>Fix int overflow in sliceBytesTransformer <a href="https://github.com/akka/akka-http/issues/2440">#2440</a></li>
  <li>LogRequest not respecting LogLevel in Java <a href="https://github.com/akka/akka-http/issues/2418">#2418</a></li>
</ul>
<h2><a href="#10-1-7" name="10-1-7" class="anchor"><span class="anchor-link"></span></a>10.1.7</h2>
<p>10.1.7 is the eighth release in the 10.1.x series of Akka HTTP. See the <a href="https://akka.io/blog/news/2019/01/04/akka-http-10.1.7-released.html">announcement</a> and the full list of changes below.</p>
<h3><a href="#changes-since-10-1-6" name="changes-since-10-1-6" class="anchor"><span class="anchor-link"></span></a>Changes since 10.1.6</h3>
<p>For a full overview you can also see the <a href="https://github.com/akka/akka-http/milestone/46?closed=1">10.1.7 milestone</a>:</p>
<ul>
  <li>Media types were added for <code>application/problem+json</code> and <code>application/problem+xml</code> (<a href="https://tools.ietf.org/html/rfc7807">RFC 7807</a>) <a href="https://github.com/akka/akka-http/pull/2323">#2323</a></li>
  <li>Media types were added for <code>font/woff</code> and <code>font/woff2</code> <a href="https://github.com/akka/akka-http/issues/2330">#2330</a></li>
  <li>A checker was added that produces a run-time warning when different versions of Akka HTTP modules are found on the classpath <a href="https://github.com/akka/akka-http/issues/2335">#2335</a></li>
  <li>Various dependencies were updated <a href="https://github.com/akka/akka-http/pull/2328">#2328</a></li>
</ul>
<h2><a href="#10-1-6" name="10-1-6" class="anchor"><span class="anchor-link"></span></a>10.1.6</h2>
<p>10.1.6 is the seventh release in the 10.1.x series of Akka HTTP. See the full list of changes below.</p>
<h3><a href="#migration-notes" name="migration-notes" class="anchor"><span class="anchor-link"></span></a>Migration Notes</h3>
<ul>
  <li>akka-http now requires to be run with Akka 2.5.19+ to support JDK 11 from Java.</li>
  <li><code>RoutingSettings</code> were moved to <code>akka-http</code> from <code>akka-http-core</code> (where they logically belong). Make sure to depend  on <code>akka-http</code> when referencing this class (which is very likely because it couldn&rsquo;t be used otherwise).</li>
  <li><code>akka-stream-testkit</code> is now a only a provided dependency for <code>akka-http-testkit</code>, if you use <code>akka-http-testkit</code> also  add a dependency to <code>akka-stream-testkit</code> into the mix</li>
</ul>
<h3><a href="#changes-since-10-1-5" name="changes-since-10-1-5" class="anchor"><span class="anchor-link"></span></a>Changes since 10.1.5</h3>
<p>For a full overview you can also see the <a href="https://github.com/akka/akka-http/milestone/44?closed=1">10.1.6 milestone</a>:</p>
<h4><a href="#improvements" name="improvements" class="anchor"><span class="anchor-link"></span></a>Improvements</h4>
<h5><a href="#akka-http-core" name="akka-http-core" class="anchor"><span class="anchor-link"></span></a>akka-http-core</h5>
<ul>
  <li>Require Akka 2.5.19 for JDK 11 support</li>
  <li>Move RoutingSettings to akka-http module (<a href="https://github.com/akka/akka-http/issues/2307">#2307</a>)</li>
  <li>Use collision-resistant maps in header parsing (<a href="https://github.com/akka/akka-http/issues/2276">#2276</a>)</li>
  <li>Depend on Scala 2.12.8 to allow Java usage from JDK 11 (<a href="https://github.com/akka/akka-http/issues/2305">#2305</a>)</li>
  <li>Add application/merge-patch+json (<a href="https://github.com/akka/akka-http/issues/2190">#2190</a>)</li>
  <li>Require Akka 2.5.10 and use the new version checker utility (<a href="https://github.com/akka/akka-http/issues/1880">#1880</a>)</li>
  <li>Add HttpEntity.isStrict (<a href="https://github.com/akka/akka-http/issues/2228">#2228</a>)</li>
  <li>Log time spent in a pool slot for simpler spotting of slow transition periods (<a href="https://github.com/akka/akka-http/issues/2226">#2226</a>)</li>
  <li>Replace existing HTTP Status Code 425 with TOO_EARLY (<a href="https://github.com/akka/akka-http/issues/2255">#2255</a>)</li>
  <li>Java API - call scala HttpEntity.toStrict that respects maxBytes (<a href="https://github.com/akka/akka-http/issues/2287">#2287</a>)</li>
  <li>Override <code>getForKeyCaseInsensitive</code> in <code>HttpMethods</code> (<a href="https://github.com/akka/akka-http/issues/2303">#2303</a>)</li>
  <li>Fix several warnings across all the modules (<a href="https://github.com/akka/akka-http/issues/2292">#2292</a>)</li>
  <li>Deprecate unofficial Microsoft media-types and add the official ones (<a href="https://github.com/akka/akka-http/issues/2264">#2264</a>)</li>
</ul>
<h5><a href="#akka-http" name="akka-http" class="anchor"><span class="anchor-link"></span></a>akka-http</h5>
<ul>
  <li>Use collision-resistant maps for formFieldMaps (<a href="https://github.com/akka/akka-http/issues/2274">#2274</a>)</li>
  <li>Add Directive#tcollect and Directive1#collect (<a href="https://github.com/akka/akka-http/issues/2253">#2253</a>)</li>
  <li>Do not set dispatcher for file directives and remove file-io-dispatcher config (<a href="https://github.com/akka/akka-http/issues/1879">#1879</a>)</li>
  <li>Add new method for routes chaining in Java DSL (<a href="https://github.com/akka/akka-http/issues/1170">#1170</a>)</li>
  <li>Fail with unwrapped exception when using CompletionStage (<a href="https://github.com/akka/akka-http/issues/2054">#2054</a>)</li>
  <li>Return RequestEntityTooLarge status code in case of EntityStreamSizeException (<a href="https://github.com/akka/akka-http/issues/2279">#2279</a>)</li>
</ul>
<h5><a href="#akka-http-testkit" name="akka-http-testkit" class="anchor"><span class="anchor-link"></span></a>akka-http-testkit</h5>
<ul>
  <li><code>akka-stream-testkit</code> is now a provided dependency for <code>akka-http-testkit</code> (<a href="https://github.com/akka/akka-http/issues/2262">#2262</a>)</li>
</ul>
<h4><a href="#bug-fixes" name="bug-fixes" class="anchor"><span class="anchor-link"></span></a>Bug Fixes</h4>
<h5><a href="#akka-http-core" name="akka-http-core" class="anchor"><span class="anchor-link"></span></a>akka-http-core</h5>
<ul>
  <li>Client pool: exponential backoff after failed connection attempts (<a href="https://github.com/akka/akka-http/issues/1391">#1391</a>)</li>
  <li>Fix broken multi-byte UTF-8 decoding in HeaderParser if UTF-8 sequence is cut in the middle (<a href="https://github.com/akka/akka-http/issues/1484">#1484</a>)</li>
  <li>Fix limiting of chunk size in the NoCode encoder (<a href="https://github.com/akka/akka-http/issues/2252">#2252</a>)</li>
  <li>Allow chunked responses in HttpMessage with protocol = HTTP/2, fixes (<a href="https://github.com/akka/akka-http/issues/2217">#2217</a>)</li>
</ul>
<h5><a href="#akka-http" name="akka-http" class="anchor"><span class="anchor-link"></span></a>akka-http</h5>
<ul>
  <li>Default exception handlers do now discard entity bytes when completing a request that ended in error (<a href="https://github.com/akka/akka-http/issues/2084">#2084</a>)</li>
  <li>Fix cancellation and head-of-line blocking in fileUpload directive (<a href="https://github.com/akka/akka-http/issues/2224">#2224</a>)</li>
  <li>toStrict the entity when parsing multiple form fields (<a href="https://github.com/akka/akka-http/issues/2283">#2283</a>)</li>
  <li>Fix CsvSeq unmarshaller to include trailing empty string values in the result <code>Seq[T]</code> (<a href="https://github.com/akka/akka-http/issues/2249">#2249</a>)</li>
</ul>
<h5><a href="#akka-http2-support" name="akka-http2-support" class="anchor"><span class="anchor-link"></span></a>akka-http2-support</h5>
<ul>
  <li>Handle stream cancellation while outgoing data is buffered (<a href="https://github.com/akka/akka-http/issues/2237">#2237</a>)</li>
</ul>
<h5><a href="#akka-http-caching" name="akka-http-caching" class="anchor"><span class="anchor-link"></span></a>akka-http-caching</h5>
<ul>
  <li>Fix that LfuCache ttl can be equal to tti (<a href="https://github.com/akka/akka-http/issues/2188">#2188</a>)</li>
</ul>
<h2><a href="#10-1-5" name="10-1-5" class="anchor"><span class="anchor-link"></span></a>10.1.5</h2>
<p>10.1.5 is the sixth release in the 10.1.x series of Akka HTTP.</p>
<p>It is mainly a mitigation for the <a href="https://akka.io/blog/news/2018/08/30/akka-http-dos-vulnerability-found">DoS vulnerability when using <code>decodeRequest</code></a></p>
<h3><a href="#migration-notes" name="migration-notes" class="anchor"><span class="anchor-link"></span></a>Migration Notes</h3>
<p>To avoid excessive memory usage we introduced two new limits that apply per default:</p>
<ul>
  <li><code>akka.http.routing.decode-max-size</code>: This limit applies when you use <code>decodeRequest</code> to limit the amount of decompressed data. The default limit is 8 megabytes.</li>
  <li><code>akka.http.parsing.max-to-strict-bytes</code>: This limit applies when you use <code>HttpEntity.toStrict</code> or the <code>toStrictEntity</code> directive (and related directives). It will only collect up to the given amount data and fail otherwise. The default limit is 8 megabytes.</li>
</ul>
<p>Depending on your application requirements, you may want to change these settings.</p>
<h3><a href="#" name="" class="anchor"><span class="anchor-link"></span></a><strong>Changes since 10.1.4</strong></h3>
<p>For a full overview you can also see the <a href="https://github.com/akka/akka-http/milestone/43?closed=1">10.1.5 milestone</a>:</p>
<ul>
  <li>Restrict the maximum size of a request entity after uncompressing it with <code>decodeRequest</code> <a href="https://github.com/akka/akka-http/issues/2137">#2137</a></li>
  <li>Restrict the maximum size of a request entity when reading it into memory with <code>toStrict</code> <a href="https://github.com/akka/akka-http/pull/2186">#2186</a></li>
  <li>Correctly set a default <code>parallelism</code> value when none is specified for HTTP/2 <a href="https://github.com/akka/akka-http/pull/2165">#2165</a></li>
  <li>Avoid matching an empty pattern when using <code>PathMatcher.repeat</code> <a href="https://github.com/akka/akka-http/issues/2097">#2097</a></li>
  <li>Add <code>ServerSentEvent.heartbeat()</code> to the Java DSL <a href="https://github.com/akka/akka-http/issues/2187">#2187</a></li>
</ul>
<h2><a href="#10-1-4" name="10-1-4" class="anchor"><span class="anchor-link"></span></a>10.1.4</h2>
<p>10.1.4 is the fifth release in the 10.1.x series of Akka HTTP.</p>
<p>Among many other things, this release includes a fix for handling early responses in the client, HTTP/2 improvements and many updates to the documentation.</p>
<h3><a href="#" name="" class="anchor"><span class="anchor-link"></span></a><strong>Changes since 10.1.3</strong></h3>
<p>For a full overview you can also see the <a href="https://github.com/akka/akka-http/milestone/42?closed=1">10.1.4 milestone</a>:</p>
<h4><a href="#fixes-in-akka-http-core" name="fixes-in-akka-http-core" class="anchor"><span class="anchor-link"></span></a>Fixes in akka-http-core</h4>
<ul>
  <li>Support for scheme ending in digit in Uri.from (<a href="https://github.com/akka/akka-http/issues/2080">#2080</a>)</li>
  <li>Allow <code>MediaType</code>s in <code>Set</code>s (<a href="https://github.com/akka/akka-http/issues/2144">#2144</a>)</li>
  <li>Allow creating an unencrypted HTTP/2 server from Java (<a href="https://github.com/akka/akka-http/issues/2110">#2110</a>)</li>
  <li>Fix a bug in handling chunked responses in the new connection pool (<a href="https://github.com/akka/akka-http/issues/2138">#2138</a>)</li>
  <li>As a websocket client, support receiving the upgrade request in parts (<a href="https://github.com/akka/akka-http/pull/2152">#2152</a>)</li>
  <li>Support HSTS headers with trailing semicolons and unusual field ordering (<a href="https://github.com/akka/akka-http/issues/2122">#2122</a>)</li>
</ul>
<h4><a href="#improvements-in-akka-http-core" name="improvements-in-akka-http-core" class="anchor"><span class="anchor-link"></span></a>Improvements in akka-http-core</h4>
<ul>
  <li>Improved graceful shutdown behavior (<a href="https://github.com/akka/akka-http/issues/2090">#2090</a>)</li>
  <li>More sensible default for bindAndHandleAsync parallelism setting with HTTP/2 (<a href="https://github.com/akka/akka-http/issues/2145">#2145</a>)</li>
</ul>
<h4><a href="#improvements-in-akka-http" name="improvements-in-akka-http" class="anchor"><span class="anchor-link"></span></a>Improvements in akka-http</h4>
<ul>
  <li>Allow java/scala conversion for Routes for users (<a href="https://github.com/akka/akka-http/issues/891">#891</a>)</li>
  <li>Commonize marshalling selection code (<a href="https://github.com/akka/akka-http/pull/2004">#2004</a>)</li>
</ul>
<h4><a href="#improvements-in-akka-http-testkit" name="improvements-in-akka-http-testkit" class="anchor"><span class="anchor-link"></span></a>Improvements in akka-http-testkit</h4>
<ul>
  <li>Allow configuring the marshalling timeout (<a href="https://github.com/akka/akka-http/issues/2127">#2127</a>)</li>
</ul>
<h4><a href="#improvements-in-docs" name="improvements-in-docs" class="anchor"><span class="anchor-link"></span></a>Improvements in docs</h4>
<ul>
  <li>Fix broken links at release notes (<a href="https://github.com/akka/akka-http/pull/2082">#2082</a>)</li>
  <li>Fix links to RequestEntityExpectedRejection api documentation (<a href="https://github.com/akka/akka-http/pull/2094">#2094</a>)</li>
  <li>Document GenericMarshallers.futureMarshaller (<a href="https://github.com/akka/akka-http/pull/2095">#2095</a>)</li>
  <li>Clarify not all abrupt client go-aways are clean (<a href="https://github.com/akka/akka-http/pull/2101">#2101</a>)</li>
  <li>Clarify documentation for PathDirectives (<a href="https://github.com/akka/akka-http/pull/2109">#2109</a>)</li>
  <li>Updated outdated SecurityDirectives documentation (<a href="https://github.com/akka/akka-http/issues/1715">#1715</a>)</li>
  <li>Link to the Play and Lagom websites (<a href="https://github.com/akka/akka-http/pull/2121">#2121</a>)</li>
  <li>Improve source-streaming docs (<a href="https://github.com/akka/akka-http/pull/2131">#2131</a>)</li>
  <li>Add warning banner when browsing old versions (<a href="https://github.com/akka/akka-http/issues/2135">#2135</a>)</li>
</ul>
<h2><a href="#10-1-3" name="10-1-3" class="anchor"><span class="anchor-link"></span></a>10.1.3</h2>
<p>10.1.3 is the fourth release in the 10.1.x series of Akka HTTP.</p>
<p>This release addresses a critical memory leak issue introduced by the graceful termination infrastructure added in 10.1.2. No other risky changes are made in this release, in order to make it a trustworthy fix drop-in replacement of 10.1.2.</p>
<h3><a href="#" name="" class="anchor"><span class="anchor-link"></span></a><strong>Changes since 10.1.2</strong></h3>
<p>For a full overview you can also see the <a href="https://github.com/akka/akka-http/milestone/41?closed=1">10.1.3 milestone</a>:</p>
<h4><a href="#fixes-in-akka-http-core" name="fixes-in-akka-http-core" class="anchor"><span class="anchor-link"></span></a>Fixes in akka-http-core</h4>
<ul>
  <li>ServerTerminator memory leak in 10.1.2 (<a href="https://github.com/akka/akka-http/issues/2067">#2067</a>)</li>
  <li>Avoid eagerly failing connections when request closes (<a href="https://github.com/akka/akka-http/issues/2066">#2066</a>)</li>
</ul>
<h4><a href="#fixes-in-docs" name="fixes-in-docs" class="anchor"><span class="anchor-link"></span></a>Fixes in docs</h4>
<ul>
  <li>Correct pipelining-limit flag name (<a href="https://github.com/akka/akka-http/issues/2059">#2059</a>)</li>
  <li>Fix link to compatibility rules section (<a href="https://github.com/akka/akka-http/issues/2062">#2062</a>)</li>
</ul>
<h4><a href="#improvements-in-docs" name="improvements-in-docs" class="anchor"><span class="anchor-link"></span></a>Improvements in docs</h4>
<ul>
  <li>Reference documentation for Graceful Termination (<a href="https://github.com/akka/akka-http/issues/2072">#2072</a>)</li>
  <li>Enhance Caching Documentation (<a href="https://github.com/akka/akka-http/issues/2060">#2060</a>)</li>
</ul>
<h2><a href="#10-1-2" name="10-1-2" class="anchor"><span class="anchor-link"></span></a>10.1.2</h2>
<p>10.1.2 is the third release in the 10.1.x series of Akka HTTP.</p>
<p>Notably, this release:</p>
<ul>
  <li>Introduces &ldquo;Graceful&rdquo; Server Termination (<a href="https://github.com/akka/akka-http/issues/118">#118</a>): calling the newly introduced <code>terminate</code> on the <code>ServerBinding</code> will cause the binding to start gracefully rejecting new requests, while giving existing requests a deadline to complete normally.</li>
  <li>Discards Entities in Default RejectionHandler (<a href="https://github.com/akka/akka-http/issues/38">#38</a>). Previously, when rejecting a request, the default rejection handler would not consume the request entity. The default rejection handlers have been updated to consume the request in this case.</li>
  <li>Appends a newline to every element when streaming CSV (and NDJSON, <a href="https://github.com/akka/akka-http/issues/1931">#1931</a>): Previously, CSV lines would only be interspersed with newlines, but no final newline would be sent. While arguably this was a bug in itself, it also had the unfortunate effect that a newline would only be emitted when the next CSV line became available, which is especially surprising in situations where CSV data is produced relatively slowly.</li>
</ul>
<h3><a href="#" name="" class="anchor"><span class="anchor-link"></span></a><strong>Changes since 10.1.1</strong></h3>
<p>For a full overview you can also see the <a href="https://github.com/akka/akka-http/milestone/40?closed=1">10.1.2 milestone</a>:</p>
<h4><a href="#fixes-in-akka-http-core" name="fixes-in-akka-http-core" class="anchor"><span class="anchor-link"></span></a>Fixes in akka-http-core</h4>
<ul>
  <li>Default rejection handlers do now discard entity bytes when rejecting a request (<a href="https://github.com/akka/akka-http/issues/38">#38</a>)</li>
</ul>
<h4><a href="#improvements-in-akka-http-core" name="improvements-in-akka-http-core" class="anchor"><span class="anchor-link"></span></a>Improvements in akka-http-core</h4>
<ul>
  <li>Added toStrict to WS Messages (<a href="https://github.com/akka/akka-http/issues/15">#15</a>)</li>
  <li>Accept LF end of line instead of CRLF only (<a href="https://github.com/akka/akka-http/issues/106">#106</a>)</li>
  <li>Add setting ignore-illegal-header-for (<a href="https://github.com/akka/akka-http/issues/687">#687</a>)</li>
  <li>Support parameters for custom media types (<a href="https://github.com/akka/akka-http/issues/2005">#2005</a>)</li>
  <li>Accept response before request has been sent completely (<a href="https://github.com/akka/akka-http/issues/1746">#1746</a>)</li>
  <li>Added ability to set https proxy host and port through application.conf (<a href="https://github.com/akka/akka-http/issues/995">#995</a>)</li>
  <li>&ldquo;Graceful&rdquo; Server Termination #188 (<a href="https://github.com/akka/akka-http/issues/2035">#2035</a>)</li>
</ul>
<h4><a href="#fixes-in-akka-http" name="fixes-in-akka-http" class="anchor"><span class="anchor-link"></span></a>Fixes in akka-http</h4>
<ul>
  <li>fix 500 error in conditional GET for non-etag response (<a href="https://github.com/akka/akka-http/issues/1951">#1951</a>)</li>
</ul>
<h4><a href="#improvements-in-akka-http" name="improvements-in-akka-http" class="anchor"><span class="anchor-link"></span></a>Improvements in akka-http</h4>
<ul>
  <li>Discard Entity in Default RejectionHandler (<a href="https://github.com/akka/akka-http/issues/38">#38</a>)</li>
  <li>Adds missing parameter with required value directive for Java API (<a href="https://github.com/akka/akka-http/issues/2025">#2025</a>)</li>
  <li>Add Java DSL optionMarshaller (<a href="https://github.com/akka/akka-http/issues/1247">#1247</a>)</li>
  <li>Append newline to every element when streaming CSV (and NDJSON). (<a href="https://github.com/akka/akka-http/issues/1931">#1931</a>)</li>
</ul>
<h4><a href="#fixes-in-docs" name="fixes-in-docs" class="anchor"><span class="anchor-link"></span></a>Fixes in docs</h4>
<ul>
  <li>Fix Java snippet in Path Matcher doc page (<a href="https://github.com/akka/akka-http/issues/2000">#2000</a>)</li>
  <li>Add missing methods for creating custom binary MediaTypes (<a href="https://github.com/akka/akka-http/issues/2008">#2008</a>)</li>
  <li>Update outdated link in &ldquo;Handling blocking operations&rdquo; (<a href="https://github.com/akka/akka-http/issues/2038">#2038</a>)</li>
</ul>
<h4><a href="#improvements-in-docs" name="improvements-in-docs" class="anchor"><span class="anchor-link"></span></a>Improvements in docs</h4>
<ul>
  <li>Added explanations for beginners how to access the server (<a href="https://github.com/akka/akka-http/issues/1975">#1975</a>)</li>
  <li>Add dynamically updating routes example (<a href="https://github.com/akka/akka-http/issues/1935">#1935</a>)</li>
  <li>Recommend static Directives. imports over AllDirectives (<a href="https://github.com/akka/akka-http/issues/1993">#1993</a>)</li>
</ul>
<h4><a href="#fixes-in-akka-http2-support" name="fixes-in-akka-http2-support" class="anchor"><span class="anchor-link"></span></a>Fixes in akka-http2-support</h4>
<ul>
  <li>Ignore unknown h2 SETTINGS (<a href="https://github.com/akka/akka-http/issues/2039">#2039</a>)</li>
  <li>Allow h2 SETTINGS with large max header table size (<a href="https://github.com/akka/akka-http/issues/2040">#2040</a>)</li>
</ul>
<h4><a href="#improvements-in-akka-http2-support" name="improvements-in-akka-http2-support" class="anchor"><span class="anchor-link"></span></a>Improvements in akka-http2-support</h4>
<ul>
  <li>Run h2spec integration tests (<a href="https://github.com/akka/akka-http/issues/1988">#1988</a>)</li>
  <li>Allow Http2 without negotiation/TLS (<a href="https://github.com/akka/akka-http/issues/1934">#1934</a>)</li>
</ul>
<h2><a href="#10-1-1" name="10-1-1" class="anchor"><span class="anchor-link"></span></a>10.1.1</h2>
<p>See the <a href="https://akka.io/blog/news/2018/03/27/akka-http-10.1.1-released.html">announcement</a> and closed tickets on the <a href="https://github.com/akka/akka-http/milestone/36?closed=1">10.1.1 milestone</a>.</p>
<p>10.1.1 is the second release in the 10.1.x series of Akka HTTP.</p>
<p>This release brings a number of small, yet long requested features, including:</p>
<ul>
  <li>automatic WebSocket keep-alive using <code>Ping</code> frames,</li>
  <li>removing the need for implicit parameters in order to call <code>Route.seal</code> (in Scala DSL)</li>
</ul>
<p>As usual, the release is backwards compatible as outlined in our <a href="../compatibility-guidelines.html">binary compatibility guidelines</a>.</p>
<h3><a href="#" name="" class="anchor"><span class="anchor-link"></span></a><strong>List of changes (since 10.1.0)</strong></h3>
<h4><a href="#fixes-in-akka-http-core" name="fixes-in-akka-http-core" class="anchor"><span class="anchor-link"></span></a>Fixes in akka-http-core</h4>
<ul>
  <li>Emit entity truncation errors before completing graph stage (<a href="https://github.com/akka/akka-http/issues/1947">#1947</a>)</li>
  <li>Fix type parameters in Java API to work with latest Akka (<a href="https://github.com/akka/akka-http/issues/1965">#1965</a>)</li>
</ul>
<h4><a href="#improvements-in-akka-http-core" name="improvements-in-akka-http-core" class="anchor"><span class="anchor-link"></span></a>Improvements in akka-http-core</h4>
<ul>
  <li>Transparent websocket ping/pong (keep alive) (<a href="https://github.com/akka/akka-http/issues/1938">#1938</a>)</li>
  <li>Fix a few Scala 2.13.0-M3 compilation issues (<a href="https://github.com/akka/akka-http/issues/1918">#1918</a>)</li>
  <li>Always parse Content-Encoding and WebSocket headers (<a href="https://github.com/akka/akka-http/issues/1937">#1937</a>)</li>
  <li>Support conversion between scaladsl.Uri and javadsl.Uri (<a href="https://github.com/akka/akka-http/issues/1950">#1950</a>)</li>
</ul>
<h4><a href="#improvements-in-akka-http" name="improvements-in-akka-http" class="anchor"><span class="anchor-link"></span></a>Improvements in akka-http</h4>
<ul>
  <li>Remove not needed implicits from Route.seal (<a href="https://github.com/akka/akka-http/issues/1928">#1928</a>)</li>
</ul>
<h4><a href="#improvements-in-akka-http-testkit" name="improvements-in-akka-http-testkit" class="anchor"><span class="anchor-link"></span></a>Improvements in akka-http-testkit</h4>
<ul>
  <li>Fix type parameter variance in Java API to work with latest Akka (<a href="https://github.com/akka/akka-http/issues/1965">#1965</a>)</li>
</ul>
<h4><a href="#improvements-in-documentation" name="improvements-in-documentation" class="anchor"><span class="anchor-link"></span></a>Improvements in documentation</h4>
<ul>
  <li>Document client-side for streaming JSON (<a href="https://github.com/akka/akka-http/issues/1964">#1964</a>)</li>
  <li>Add package name to <code>PathMatcher</code> javadsl docs (<a href="https://github.com/akka/akka-http/issues/1933">#1933</a>)</li>
  <li>Fix paradox error for discard entity bytes (<a href="https://github.com/akka/akka-http/issues/1944">#1944</a>)</li>
  <li>Minor correction in rejections.md (<a href="https://github.com/akka/akka-http/issues/1924">#1924</a>)</li>
  <li>Cache docs: more explicit imports, create cache once (<a href="https://github.com/akka/akka-http/issues/1955">#1955</a>)</li>
  <li>Better caching example for Java</li>
</ul>
<h4><a href="#infrastructure-and-build-fixes" name="infrastructure-and-build-fixes" class="anchor"><span class="anchor-link"></span></a>Infrastructure and build fixes</h4>
<ul>
  <li>Fully remove OSGi support (<a href="https://github.com/akka/akka-http/issues/1943">#1943</a>)</li>
  <li>Which was already removed and discussed in 10.1.0</li>
</ul>
<h2><a href="#10-1-0" name="10-1-0" class="anchor"><span class="anchor-link"></span></a>10.1.0</h2>
<p>See the <a href="https://akka.io/blog/news/2018/03/08/akka-http-10.1.0-released.html">announcement</a> and closed tickets on the <a href="https://github.com/akka/akka-http/milestone/35?closed=1">10.1.0 milestone</a>.</p>
<p>10.1.0 is the first release in the 10.1.x series of Akka HTTP.</p>
<p>The most important changes are:</p>
<ul>
  <li>Removing support for Akka 2.4.x which is at its end-of-life with the end of 2017. In the future, this will allow us  to make use of features that only Akka 2.5 supports.</li>
  <li>Removing methods that have been deprecated during the life-time of Akka HTTP 10.0.x. For now, methods only deprecated  in the last release of Akka HTTP, 10.0.11, are not yet removed to allow for a smooth transition.</li>
  <li>The new client pool implementation introduced in 10.0.11 is now the default. We have identified and fixed several  bugs in the RC period so by now we are quite confident that the new client pool will be a solid replacement for the  legacy one.</li>
  <li>Documentation has been completely consolidated between Scala and Java pages. Hundreds of directive  documentation pages have been merged in a tireless effort by <a href="https://github.com/jonas">@jonas</a>,  <a href="https://github.com/jlprat">@jlprat</a>, and Akka team&rsquo;s <a href="https://github.com/raboof">@raboof</a>.</li>
</ul>
<h3><a href="#akka-is-not-an-explicit-dependency-anymore-removal-of-akka-2-4-support" name="akka-is-not-an-explicit-dependency-anymore-removal-of-akka-2-4-support" class="anchor"><span class="anchor-link"></span></a>Akka is not an explicit dependency anymore / Removal of Akka 2.4 support</h3>
<p>Akka HTTP 10.0.x has always supported Akka 2.5, while allowing users to still remain on Akka 2.4.x if they choose to do so. By now Akka 2.4 has reached its end of life. Therefore, Akka HTTP 10.1.x only supports Akka &gt;= 2.5.11 (and future versions during the life of Akka HTTP 10.1.x) so we will be able to make of features only provided by Akka 2.5. In some cases we bump the minimum supported patch version of Akka to be able to use new features quickly.</p>
<p>Using Akka HTTP with Akka 2.5 used to be a bit confusing, because Akka HTTP explicitly depended on Akka 2.4. Trying to use it together with Akka 2.5, running an Akka HTTP application could fail with class loading issues if you forgot to add a dependency to both <code>akka-actor</code> <em>and</em> <code>akka-stream</code> of the same version. For that reason, we changed the policy not to depend on <code>akka-stream</code> explicitly anymore but mark it as a <code>provided</code> dependency in our build. That means that you will <em>always</em> have to add a manual dependency to <code>akka-stream</code>. Please make sure you have chosen and added a dependency to <code>akka-stream</code> when updating to the new version (veterans may remember this policy from Spray).</p>
<h3><a href="#deprecation-removals" name="deprecation-removals" class="anchor"><span class="anchor-link"></span></a>Deprecation Removals</h3>
<p>Methods were removed that have been deprecated during the life-time of Akka HTTP 10.0.x. Methods that were only deprecated in the last release of Akka HTTP, 10.0.11, are not yet removed to allow for a smooth transition. In general, our guarantee for minor release updates is that code that compiled on the latest version of the previous minor release (10.0.11 in this case) should be both source and binary compatible with the latest version of the current minor release. We might make exceptions to the rule for cases where the maintenance burden seems greater than the risk of breaking major users / third-party libraries. We&rsquo;ll treat any other binary incompatibilities as regressions.</p>
<h3><a href="#new-client-pool-implementation-is-now-the-default" name="new-client-pool-implementation-is-now-the-default" class="anchor"><span class="anchor-link"></span></a>New client pool implementation is now the default</h3>
<p>The new client pool implementation introduced in 10.0.11 is now the default. Since 10.0.11, we fixed several bugs in the new client pool implementation. You can still fall back to the old implementation by setting <code>akka.http.host-connection-pool.pool-implementation = legacy</code>.</p>
<h3><a href="#compatibility-notes" name="compatibility-notes" class="anchor"><span class="anchor-link"></span></a>Compatibility Notes</h3>
<p>As the <a href="../compatibility-guidelines.html">compatibility notes</a> explain in detail, we guarantee binary compatibility. In some cases, however, a new version is not strictly source compatible. We try to limit the impact of these kinds of changes but sometimes, they are inevitable to improve the API.</p>
<p>Source incompatible changes are:</p>
<ul>
  <li>Removed deprecated methods from 10.0.x</li>
  <li><code>ServerBinding.unbind</code> return type has been changed to <span class="group-scala"><code>Future[Done]</code></span><span class="group-java"><code>CompletionStage[Done]</code></span> for  consistency.</li>
</ul>
<h3><a href="#support-for-scala-2-13-0-m3" name="support-for-scala-2-13-0-m3" class="anchor"><span class="anchor-link"></span></a>Support for Scala 2.13.0-M3</h3>
<p>Akka HTTP 10.1.0 is released for Scala 2.11, 2.12, and 2.13.0-M3. Due to a <a href="https://github.com/scala/scala-dev/issues/467">regression in Scala 2.13.0-M3</a> tail call optimization does not apply anymore in some cases where it did before which might lead to stack overflow when running with Scala 2.13.0-M3.</p>
<h3><a href="#removal-of-osgi-support" name="removal-of-osgi-support" class="anchor"><span class="anchor-link"></span></a>Removal of OSGi support</h3>
<p>Supporting OSGi is error prone and high maintenance and it repeatably broke, blocked releases, or metadata turned out to be wrong. As we are no experts in OSGi, and are nowadays focusing our efforts on JDK9+ jigsaw compatibility we had to remove OSGi support for now. If you care about OSGi support please step up and help out. Most important would be adding tests that verify that the OSGi infrastructure does not break the build and the metadata actually works at runtime. See <a href="https://github.com/akka/akka-http/issues/1852">#1852</a> for more information.</p>
<h3><a href="#list-of-changes-since-10-1-0-rc2-" name="list-of-changes-since-10-1-0-rc2-" class="anchor"><span class="anchor-link"></span></a>List of changes (since 10.1.0-RC2)</h3>
<h4><a href="#improvements" name="improvements" class="anchor"><span class="anchor-link"></span></a>Improvements</h4>
<h5><a href="#akka-http-core" name="akka-http-core" class="anchor"><span class="anchor-link"></span></a>akka-http-core</h5>
<ul>
  <li>Add headers and getHeaders method to HttpMessage (<a href="https://github.com/akka/akka-http/issues/1731">#1731</a>)</li>
  <li>More specific warning for HTTPS requests on HTTP endpoints (<a href="https://github.com/akka/akka-http/issues/1829">#1829</a>)</li>
  <li>Add ability to access current response timeout (<a href="https://github.com/akka/akka-http/issues/1811">#1811</a>) (<a href="https://github.com/akka/akka-http/issues/1828">#1828</a>)</li>
  <li>Move ClientTransport from ConnectionPoolSettings to ClientConnectionSettings so the transport can be configured in all client APIs (<a href="https://github.com/akka/akka-http/issues/1562">#1562</a>)</li>
</ul>
<h5><a href="#akka-http" name="akka-http" class="anchor"><span class="anchor-link"></span></a>akka-http</h5>
<ul>
  <li>Support OAuth2 access token in URI query component as defined in RFC6750 (<a href="https://github.com/akka/akka-http/issues/1769">#1769</a>)</li>
</ul>
<h5><a href="#akka-http2-support" name="akka-http2-support" class="anchor"><span class="anchor-link"></span></a>akka-http2-support</h5>
<ul>
  <li>Support for trailing response headers in HTTP/2 (<a href="https://github.com/akka/akka-http/issues/1857">#1857</a>)</li>
</ul>
<h5><a href="#documentation" name="documentation" class="anchor"><span class="anchor-link"></span></a>Documentation</h5>
<ul>
  <li>Add docs and tests for combining | with / in paths (<a href="https://github.com/akka/akka-http/issues/1861">#1861</a>)</li>
  <li>Fix links to objects in the API docs</li>
</ul>
<h4><a href="#bug-fixes" name="bug-fixes" class="anchor"><span class="anchor-link"></span></a>Bug Fixes</h4>
<h5><a href="#akka-http-core" name="akka-http-core" class="anchor"><span class="anchor-link"></span></a>akka-http-core</h5>
<ul>
  <li>Normalize port in <code>Uri.apply</code> consistently (<a href="https://github.com/akka/akka-http/issues/1763">#1763</a>)</li>
  <li>Return status 400 instead of 500 for requests with invalid URI scheme (<a href="https://github.com/akka/akka-http/issues/36">#36</a>)</li>
  <li>Allow Sec-WebSocket-Extensions in requests</li>
  <li>Fix incompatibility of Akka HTTP with Akka typed (<a href="https://github.com/akka/akka-http/issues/1878">#1878</a>)</li>
</ul>
<h5><a href="#akka-http2-support" name="akka-http2-support" class="anchor"><span class="anchor-link"></span></a>akka-http2-support</h5>
<ul>
  <li>Fix HTTP/2 trying to send even if stream window was depleted (<a href="https://github.com/akka/akka-http/issues/1882">#1882</a>)</li>
</ul>
<h2><a href="#10-1-0-rc2" name="10-1-0-rc2" class="anchor"><span class="anchor-link"></span></a>10.1.0-RC2</h2>
<p>See the <a href="https://akka.io/blog/news/2018/02/12/akka-http-10.1.0-RC2-released.html">announcement</a> and closed tickets on the <a href="https://github.com/akka/akka-http/milestone/34?closed=1">10.1.0-RC2 milestone</a>.</p>
<p>10.1.0-RC2 is the second release candidate for the upcoming Akka HTTP 10.1.0. We focused on stabilizing the new client connection pool. Over the last month our test suite caught lots of edge cases that were fixed for this release. Also, we improved logging output for the new pool.</p>
<h3><a href="#list-of-changes-since-10-1-0-rc1-" name="list-of-changes-since-10-1-0-rc1-" class="anchor"><span class="anchor-link"></span></a>List of changes (since 10.1.0-RC1)</h3>
<h4><a href="#improvements" name="improvements" class="anchor"><span class="anchor-link"></span></a>Improvements</h4>
<h5><a href="#akka-http-core" name="akka-http-core" class="anchor"><span class="anchor-link"></span></a>akka-http-core</h5>
<ul>
  <li>Add HTTP status code <code>421</code> (<a href="https://github.com/akka/akka-http/issues/1749">#1749</a>)</li>
  <li>Add HTTP status code <code>103</code> (<a href="https://github.com/akka/akka-http/issues/1803">#1803</a>)</li>
  <li>Add <code>Uri.Path</code> <code>?/</code> operator #1793 (<a href="https://github.com/akka/akka-http/issues/1794">#1794</a>)</li>
  <li>Add <code>UserAgent</code> header parse Java Api (<a href="https://github.com/akka/akka-http/issues/1807">#1807</a>)</li>
  <li>Optimization: Avoid creation of async callback per request in RequestTimeoutStage (<a href="https://github.com/akka/akka-http/issues/1848">#1848</a>)</li>
  <li>Add <code>application/grpc+proto</code> content type / media type (<a href="https://github.com/akka/akka-http/issues/1844">#1844</a>)</li>
  <li>LogByteStringTools now logs errors on debug log (it&rsquo;s a debug feature after all) (<a href="https://github.com/akka/akka-http/issues/1780">#1780</a>)</li>
  <li>Suggest valid max-open-requests values on config error (<a href="https://github.com/akka/akka-http/issues/1806">#1806</a>)</li>
  <li>Log the timed out request on server (<a href="https://github.com/akka/akka-http/issues/1813">#1813</a>)</li>
  <li>Be more lenient to allow trailing whitespace after chunk size (<a href="https://github.com/akka/akka-http/issues/1812">#1812</a>)</li>
  <li>In <code>Http().serverLayer</code> use <code>delayCancellation</code> to make behavior consistent with other server entry points (<a href="https://github.com/akka/akka-http/issues/1822">#1822</a>)</li>
  <li>Add <code>HttpMessage.withProtocol</code> overload to return Scala type (<a href="https://github.com/akka/akka-http/issues/1730">#1730</a>)</li>
</ul>
<h5><a href="#akka-http2-support" name="akka-http2-support" class="anchor"><span class="anchor-link"></span></a>akka-http2-support</h5>
<ul>
  <li>Add <code>Tls-session-info</code> header for http/2 (<a href="https://github.com/akka/akka-http/issues/1432">#1432</a>)</li>
</ul>
<h5><a href="#akka-http" name="akka-http" class="anchor"><span class="anchor-link"></span></a>akka-http</h5>
<ul>
  <li>Add Java onSuccess overload to take a strict value (<a href="https://github.com/akka/akka-http/issues/1821">#1821</a>)</li>
</ul>
<h5><a href="#infrastructure" name="infrastructure" class="anchor"><span class="anchor-link"></span></a>Infrastructure</h5>
<ul>
  <li>Lots of small documentation fixes</li>
  <li>Use sbt-header to manage copyright headers</li>
  <li>Introduce <code>WithLogCapturing</code> trait for suppressing log output for successful tests which allows more aggressive  logging by default (which will be shown only for failures)</li>
  <li>Fix search on documentation pages to return only one version of each page</li>
  <li>Disable parallel testing on Jenkins to reduce spurious failures</li>
</ul>
<h4><a href="#bug-fixes" name="bug-fixes" class="anchor"><span class="anchor-link"></span></a>Bug Fixes</h4>
<h5><a href="#akka-http-core" name="akka-http-core" class="anchor"><span class="anchor-link"></span></a>akka-http-core</h5>
<ul>
  <li>New client pool: Fix double registration for dispatch (<a href="https://github.com/akka/akka-http/issues/1726">#1726</a>)</li>
  <li>New client pool: Automatically close connection when slot state -&gt; Unconnected (<a href="https://github.com/akka/akka-http/issues/1724">#1724</a>)</li>
  <li>New client pool: Make sure that failed and retryable requests are re-dispatched immediately (<a href="https://github.com/akka/akka-http/issues/1735">#1735</a>)</li>
  <li>New client pool: Ignore &ldquo;request entity completed&rdquo; in state WaitingForResponseDispatch (<a href="https://github.com/akka/akka-http/issues/1774">#1774</a>)</li>
  <li>New client pool: After slot failures remove slot from response dispatching queue (<a href="https://github.com/akka/akka-http/issues/1775">#1775</a>)</li>
  <li>New client pool: Log retried request info (<a href="https://github.com/akka/akka-http/issues/1781">#1781</a>)</li>
  <li>Parse and render token correctly for HttpChallenge and GenericHttpCredentials (<a href="https://github.com/akka/akka-http/issues/1353">#1353</a>)</li>
  <li>Fix utf16 surrogate pair decoding in utf8 encoder (<a href="https://github.com/akka/akka-http/issues/1760">#1760</a>)</li>
  <li>Use <code>431</code> status code when header exceeds max length for name or value (<a href="https://github.com/akka/akka-http/issues/1800">#1800</a>)</li>
  <li>Fix customMediaTypes disabling predefined media type parsing (<a href="https://github.com/akka/akka-http/issues/1786">#1786</a>)</li>
  <li>TLS should close connection when instructed by stream completion (<a href="https://github.com/akka/akka-http/issues/380">#380</a>)</li>
</ul>
<h2><a href="#10-1-0-rc1" name="10-1-0-rc1" class="anchor"><span class="anchor-link"></span></a>10.1.0-RC1</h2>
<p>See the <a href="https://akka.io/blog/news/2017/12/22/akka-http-10.1.0-RC1-released.html">announcement</a> and closed tickets on the <a href="https://github.com/akka/akka-http/milestone/26?closed=1">10.1.0-RC1 milestone</a>.</p>
<p>10.1.0-RC1 is the first release candidate for the next minor version of Akka HTTP. The most important changes are</p>
<ul>
  <li>Removing support for Akka 2.4.x which is at its end-of-life with the end of 2017. In the future, this will allow us  to make use of features that only Akka 2.5 supports.</li>
  <li>Removing methods that have been deprecated during the life-time of Akka HTTP 10.0.x. For now, methods only deprecated  in the last release of Akka HTTP, 10.0.11, are not yet removed to allow for a smooth transition.</li>
  <li>The new client pool implementation introduced in 10.0.11 is now the default. Please try it out and provide feedback  during the RC period of this release so we can iron out any problems we may have missed initially.</li>
  <li>Documentation has now almost completely been consolidated between Scala and Java pages. Hundreds of directive  documentation pages have been merged in a tireless effort by <a href="https://github.com/jonas">@jonas</a>,  <a href="https://github.com/jlprat">@jlprat</a>, and Akka team&rsquo;s <a href="https://github.com/raboof">@raboof</a>.</li>
</ul>
<h3><a href="#list-of-changes-since-10-0-11-" name="list-of-changes-since-10-0-11-" class="anchor"><span class="anchor-link"></span></a>List of changes (since 10.0.11)</h3>
<h4><a href="#improvements" name="improvements" class="anchor"><span class="anchor-link"></span></a>Improvements</h4>
<h5><a href="#akka-http-core" name="akka-http-core" class="anchor"><span class="anchor-link"></span></a>akka-http-core</h5>
<ul>
  <li>Add missing javadsl model bits and pieces (<a href="https://github.com/akka/akka-http/issues/1679">#1679</a>)</li>
  <li>New client pool is now the default</li>
  <li>Several improvements and fixes to new client pool implementation</li>
  <li>Methods deprecated before (but not including) 10.0.11 were removed</li>
  <li>Add convenience Java DSL <code>Http.cachedHostConnectionPoolHttps</code> (<a href="https://github.com/akka/akka-http/issues/1644">#1644</a>)</li>
  <li>Add Retry-After header model (<a href="https://github.com/akka/akka-http/issues/1554">#1554</a>)</li>
  <li>Adding percent encoding length check for Path.Uri (<a href="https://github.com/akka/akka-http/issues/1553">#1553</a>)</li>
</ul>
<h5><a href="#akka-http" name="akka-http" class="anchor"><span class="anchor-link"></span></a>akka-http</h5>
<ul>
  <li>Methods deprecated before (but not including) 10.0.11 were removed</li>
</ul>
<h4><a href="#akka-http-caching" name="akka-http-caching" class="anchor"><span class="anchor-link"></span></a>akka-http-caching</h4>
<ul>
  <li>Add non-lambda-capturing getOrLoad method to Cache (<a href="https://github.com/akka/akka-http/issues/1536">#1536</a>)</li>
</ul>
<h4><a href="#documentation" name="documentation" class="anchor"><span class="anchor-link"></span></a>Documentation</h4>
<ul>
  <li>Almost the complete directive documentation has now been consolidated between Java and Scala. More than hundred  pages have been simplified like this.</li>
  <li>The top-level documentation structure has been clarified.</li>
</ul>
<h4><a href="#bug-fixes" name="bug-fixes" class="anchor"><span class="anchor-link"></span></a>Bug Fixes</h4>
<h5><a href="#akka-http-core" name="akka-http-core" class="anchor"><span class="anchor-link"></span></a>akka-http-core</h5>
<ul>
  <li>Fix return type for <code>withStatus</code> methods to return proper scaladsl types (<a href="https://github.com/akka/akka-http/issues/1623">#1623</a>)</li>
  <li>Fix &ldquo;Cannot push port &hellip; twice&rdquo; in NewHostConnectionPool (<a href="https://github.com/akka/akka-http/issues/1610">#1610</a>) and several other fixes</li>
</ul>
<h5><a href="#documentation" name="documentation" class="anchor"><span class="anchor-link"></span></a>Documentation</h5>
<ul>
  <li>Fix generation/publication of javadoc (10.0.11 javadoc link pointed to scaladoc instead)</li>
</ul>
</div>
</article>

<div class="row">
<div class="small-12 large-9 column">
<section class="nav-prev-next row">
<div class="nav-prev small-6 column">
<a href="index.html"><i class="icon-prev"></i> <span class="link-prev">0. Release Notes</span></a>
</div>
<div class="nav-next small-6 column clearfix">
<a class="float-right" href="10.0.x.html">10.0.x Release Notes <i class="icon-next"></i></a>
</div>
</section>
</div>
</div>

<div class="source-github row">
Found an error in this documentation? The source code for this page can be found <a href="https://github.com/akka/akka-http/tree/v10.1.9/docs/src/main/paradox/release-notes/10.1.x.md">here</a>.
Please feel free to edit and contribute a pull request.
</div>


<footer class="page-footer row clearfix">
<img class="akka-icon float-left show-for-medium" src="../images/akka-icon.svg"/>
<section class="copyright">
<div>Akka HTTP is Open Source and available under the Apache 2 License.</div>
<p class="legal">
&copy; 2011-2019 <a href="https://www.lightbend.com/" target="_blank">Lightbend, Inc.</a> | 
<a href="https://www.lightbend.com/legal/licenses" target="_blank">Licenses</a> | 
<a href="https://www.lightbend.com/legal/terms" target="_blank">Terms</a> | 
<a href="https://www.lightbend.com/legal/privacy" target="_blank">Privacy Policy</a> | 
<a href="https://akka.io/cookie/" target="_blank">Cookie Listing</a> | 
<a class="optanon-toggle-display">Cookie Settings</a>
</p>
</section>
</footer>

</section>
</main>

<script type="text/javascript" src="../js/scrollsneak.js"></script>
<script type="text/javascript">jQuery(document).foundation();</script>
<script type="text/javascript" src="../js/groups.js"></script>
<script type="text/javascript" src="../js/page.js"></script>
<script type="text/javascript" src="../js/magellan.js"></script>

<style type="text/css">@import "../lib/prettify/prettify.css";</style>
<script type="text/javascript" src="../lib/prettify/prettify.js"></script>
<script type="text/javascript" src="../lib/prettify/lang-scala.js"></script>
<script type="text/javascript">//<![CDATA[
jQuery(function(){window.prettyPrint && prettyPrint()});
//]]></script>
<!-- Algolia docs search -->
<script type="text/javascript" src="../../../../../cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script>
<style>.algolia-autocomplete { display: block !important }</style>
<script type="text/javascript">
docsearch({
apiKey: '0ccbb8bf5148554a406fbf07df0a93b9',
indexName: 'akka-http',
inputSelector: '#search',
algoliaOptions: {
hitsPerPage: 5
}
});

docsearch({
apiKey: '0ccbb8bf5148554a406fbf07df0a93b9',
indexName: 'akka-http',
inputSelector: '#overlay-search',
algoliaOptions: {
hitsPerPage: 5
}
});

// set up "/" as global shortcut for focusing on search
jQuery(document).keypress(function (event) {
if (event.keyCode == 47) {
jQuery("#search").focus();
return false; // swallow key event, otherwise the / char would be input into the search box
}
});
</script>

<script type="text/javascript" src="../assets/js/warnOldDocs.js"></script>


</body>

<!-- Mirrored from doc.akka.io/docs/akka-http/current/release-notes/10.1.x.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 01 Aug 2019 10:12:39 GMT -->
</html>
